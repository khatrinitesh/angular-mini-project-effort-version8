!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):"function"==typeof define&&define.amd?define(["@angular/core","rxjs/Observable","rxjs/add/observable/fromEvent","rxjs/add/operator/auditTime","rxjs/add/observable/merge","@angular/common"],e):"object"==typeof exports?exports.KendoAngularPopup=e(require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/fromEvent"),require("rxjs/add/operator/auditTime"),require("rxjs/add/observable/merge"),require("@angular/common")):t.KendoAngularPopup=e(t["@angular/core"],t["rxjs/Observable"],t["rxjs/add/observable/fromEvent"],t["rxjs/add/operator/auditTime"],t["rxjs/add/observable/merge"],t["@angular/common"])}(this,function(t,e,n,o,i,r){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var o=n(1);e.PopupComponent=o.PopupComponent;var i=n(14);e.PopupModule=i.PopupModule},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(3),l=n(4),c=n(7),a=n(8),f=n(12),u=n(6),p={left:0,top:0},d=function(){function t(t,e,n,o,i,s,l){this._alignService=t,this.container=e,this._cdr=n,this._positionService=o,this._resizeService=i,this._scrollableService=s,this._renderer=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.offset=p,this.anchorViewportLeave=new r.EventEmitter,this.close=new r.EventEmitter,this.open=new r.EventEmitter,this.direction="down",this.currentOffset=p,this.resolvedPromised=Promise.resolve(null),this._renderer.setElementClass(e.nativeElement,"k-animation-container",!0),this._renderer.setElementClass(e.nativeElement,"k-animation-container-fixed",!0)}return Object.defineProperty(t.prototype,"offsetLeft",{get:function(){return this.currentOffset.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetTop",{get:function(){return this.currentOffset.top},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this.reposition.bind(this);this._resizeService.subscribe(t),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this))},t.prototype.ngAfterViewChecked=function(){var t=this;if(u.isDocumentAvailable()){var e=this.position(),n=e.flipped,o=e.offset,i=this.getDirection(n);(this.direction!==i||u.isDifferentOffset(this.currentOffset,o))&&this.resolvedPromised.then(function(){t.currentOffset=o,t.direction=i,t._cdr.markForCheck()})}},t.prototype.ngOnDestroy=function(){this.close.emit(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe()},t.prototype.triggerOpen=function(){this._renderer.setElementClass(this.container.nativeElement,"k-animation-container-shown",!0),this.open.emit()},t.prototype.reposition=function(){if(u.isDocumentAvailable()){var t=this.position(),e=t.flipped,n=t.offset;this.direction=this.getDirection(e),this.currentOffset=n}},t.prototype.position=function(){var t=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,offset:this.offset});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign})},t.prototype.getDirection=function(t){return this.animate?t?"up":"down":"none"},t.prototype.onScroll=function(t){t?this.reposition():this.anchorViewportLeave.emit()},o([r.Input(),i("design:type",Boolean)],t.prototype,"animate",void 0),o([r.Input(),i("design:type",r.ElementRef)],t.prototype,"anchor",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"anchorAlign",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"collision",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"popupAlign",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"popupClass",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"offset",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"anchorViewportLeave",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"close",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"open",void 0),o([r.HostBinding("style.left.px"),i("design:type",Number)],t.prototype,"offsetLeft",null),o([r.HostBinding("style.top.px"),i("design:type",Number)],t.prototype,"offsetTop",null),t=o([r.Component({animations:[r.trigger("toggle",[r.transition("void => down, up => down",[r.style({transform:"translateY(-100%)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(0)"}))]),r.transition("down => void",[r.style({transform:"translateY(0)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(-100%)"}))]),r.transition("void => up, down => up",[r.style({transform:"translateY(100%)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(0)"}))]),r.transition("up => void",[r.style({transform:"translateY(0)"}),r.animate("0.1s ease-in",r.style({transform:"translateY(100%)"}))])])],exportAs:"kendo-popup",providers:[s.AlignService,l.DOMService,c.PositionService,a.ResizeService,f.ScrollableService],selector:"kendo-popup",template:'\n        <div class="k-popup" [ngClass]="popupClass" [@toggle]="direction" (@toggle.done)="triggerOpen()">\n            <ng-content></ng-content>\n        </div>\n     '}),i("design:paramtypes",[s.AlignService,r.ElementRef,r.ChangeDetectorRef,c.PositionService,a.ResizeService,f.ScrollableService,r.Renderer])],t)}();e.PopupComponent=d},function(e,n){e.exports=t},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(4),l=n(6),c=function(){function t(t){this._dom=t}return t.prototype.alignElement=function(t){var e=t.anchor,n=t.element,o=t.anchorAlign,i=t.elementAlign,r=t.offset,s=this._dom,c=s.offset(n),a=s.stackingElementOffset(e||n),f=l.eitherRect(s.offset(e),r);return f=l.removeStackingOffset(f,a),e||(f=s.removeScroll(f,s.scrollPosition(n))),this._dom.align({anchorAlign:o,anchorRect:f,elementAlign:i,elementRect:c})},t=o([r.Injectable(),i("design:paramtypes",[s.DOMService])],t)}();e.AlignService=c},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(5),l=n(6),c=function(){function t(){}return t.prototype.addOffset=function(t,e){return{left:t.left+e.left,top:t.top+e.top}},t.prototype.align=function(t){return s.align(t)},t.prototype.boundingOffset=function(t){return s.boundingOffset(this.nativeElement(t))},t.prototype.getWindow=function(){return l.isWindowAvailable()?window:null},t.prototype.isBodyOffset=function(t){return s.isBodyOffset(this.nativeElement(t))},t.prototype.offset=function(t){return t?s.offset(this.nativeElement(t)):null},t.prototype.staticOffset=function(t){if(!t)return null;var e=this.nativeElement(t),n=e.style,o=n.left,i=n.top;e.style.left="0px",e.style.top="0px";var r=s.offset(e);return e.style.left=o,e.style.top=i,r},t.prototype.nativeElement=function(t){return t?t.nativeElement||t:null},t.prototype.position=function(t){return t?s.position(this.nativeElement(t)):null},t.prototype.relativeOffset=function(t,e){return s.applyLocationOffset(this.offset(t),e,this.isBodyOffset(t))},t.prototype.removeScroll=function(t,e){return s.removeScroll(t,e)},t.prototype.restrictToView=function(t){return s.restrictToView(t)},t.prototype.scrollPosition=function(t){return s.scrollPosition(this.nativeElement(t))},t.prototype.scrollableParents=function(t){return l.scrollableParents(this.nativeElement(t))},t.prototype.stackingElementOffset=function(t){var e=this.getRelativeContextElement(t);return e?s.offset(e):null},t.prototype.getRelativeContextElement=function(t){if(!t||!l.HAS_RELATIVE_STACKING_CONTEXT)return null;for(var e=this.nativeElement(t).parentElement;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}return null},t.prototype.useRelativePosition=function(t){return!!this.getRelativeContextElement(t)},t.prototype.windowViewPort=function(t){return s.getWindowViewPort(this.nativeElement(t))},t=o([r.Injectable(),i("design:paramtypes",[])],t)}();e.DOMService=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={bottom:"bottom",center:"center",middle:"middle",left:"left",right:"right",top:"top"},o=function(t){var e=t.anchorRect,o=t.anchorAlign,i=t.elementRect,r=t.elementAlign,s=o.horizontal,l=o.vertical,c=r.horizontal,a=r.vertical,f=e.top,u=e.left;return l===n.bottom&&(f+=e.height),l!==n.center&&l!==n.middle||(f+=Math.round(e.height/2)),a===n.bottom&&(f-=i.height),a!==n.center&&a!==n.middle||(f-=Math.round(i.height/2)),s===n.right&&(u+=e.width),s!==n.center&&s!==n.middle||(u+=Math.round(e.width/2)),c===n.right&&(u-=i.width),c!==n.center&&c!==n.middle||(u-=Math.round(i.width/2)),{top:f,left:u}},i=function(t,e,n){var o=t.top,i=t.left;return n&&(i=0,o=0),{top:o+e.top,left:i+e.left,height:t.height,width:t.width}},r=function(t){if(!t.getBoundingClientRect)return{bottom:t.innerHeight,left:0,right:t.innerWidth,top:0};var e=t.getBoundingClientRect(),n=e.bottom,o=e.left,i=e.right,r=e.top;return{bottom:n,left:o,right:i,top:r}},s={fit:"fit",flip:"flip"},l=function(t){return t.ownerDocument.documentElement},c=function(t){for(var e=t.offsetParent;e&&"static"===e.style.position;)e=e.offsetParent;return e||l(t)},a=function(t){return c(t)===t.ownerDocument.body},f=function(t){var e=t.style,n=e.display,o=e.left,i=e.position;t.style.display="",t.style.left="-10000px",t.style.position="absolute";var r=t.getBoundingClientRect();return t.style.display=n,t.style.left=o,t.style.position=i,r},u=function(t){var e=t.getBoundingClientRect(),n=e.left,o=e.top;return e.height||e.width||(e=f(t),n=e.left,o=e.top),{top:o,left:n,height:e.height,width:e.width}},p=function(t){return t.ownerDocument.defaultView},d=function(t){var e=p(t),n=e.getComputedStyle(t),o=u(t),i=c(t),r=e.getComputedStyle(i),s={top:0,left:0};return"fixed"!==n.position&&i!==t.ownerDocument.body&&(s=u(i),s.top+=parseInt(r.borderTopWidth,10),s.left+=parseInt(r.borderLeftWidth,10)),{top:o.top-s.top-parseInt(n.marginTop,10),left:o.left-s.left-parseInt(n.marginLeft,10),height:o.height,width:o.width}},h=function(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}},m=function(t,e,n){var o=0;return t+e>n&&(o=n-(t+e)),t<0&&(o=-t),o},v=function(t){var e=t.offset,o=t.size,i=t.anchorSize,r=t.viewPortSize,s=t.anchorAlignPoint,l=t.elementAlignPoint,c=0,a=l===n.center||l===n.middle,f=s===n.center||s===n.middle;return l===s||a||f||(e+o>r&&(c+=-(i+o)),e+c<0&&(c+=i+o)),c},g=function(t){var e=t.anchorRect,n=t.anchorAlign,o=t.elementRect,i=t.elementAlign,r=t.collisions,l=t.viewPort,c=o.top,a=o.left,f=o.height,u=o.width,p=l.height,d=l.width,h=0,g=0,y=r.horizontal===s.flip,b=r.vertical===s.flip;return r.vertical===s.fit&&(g+=m(c,f,p)),r.horizontal===s.fit&&(h+=m(a,u,d)),b&&(g+=v({offset:c,size:f,anchorSize:e.height,viewPortSize:p,anchorAlignPoint:n.vertical,elementAlignPoint:i.vertical})),y&&(h+=v({offset:a,size:u,anchorSize:e.width,viewPortSize:d,anchorAlignPoint:n.horizontal,elementAlignPoint:i.horizontal})),{flipped:y&&0!==h||b&&0!==g,offset:{left:h,top:g}}},y=function(t){var e=l(t),n=p(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}},b=function(t){var e=p(t);return{height:e.innerHeight,width:e.innerWidth}};e.align=o,e.AlignPoint=n,e.applyLocationOffset=i,e.boundingOffset=r,e.Collision=s,e.getDocumentElement=l,e.isBodyOffset=a,e.offsetParent=c,e.offset=u,e.position=d,e.removeScroll=h,e.restrictToView=g,e.scrollPosition=y,e.getWindow=p,e.getWindowViewPort=b},function(t,e){"use strict";var n=function(t,e){return t?t:{height:0,left:e.left,top:e.top,width:0}};e.eitherRect=n;var o=function(t,e){if(!e)return t;var n={height:t.height,left:e.left,top:e.top,width:t.width};return n};e.replaceOffset=o;var i=function(t,e){if(!e)return t;var n={height:t.height,left:t.left-e.left,top:t.top-e.top,width:t.width};return n};e.removeStackingOffset=i;var r=function(t,e){var n=t.left,o=t.top,i=e.left,r=e.top;return Math.abs(n-i)>=1||Math.abs(o-r)>=1};e.isDifferentOffset=r;var s=function(){return"undefined"!=typeof document&&!!document.body};e.isDocumentAvailable=s;var l=function(){return"undefined"!=typeof window};e.isWindowAvailable=l;var c=function(t){return!!t.getBoundingClientRect};e.hasBoundingRect=c;var a=/auto|scroll/,f=function(t){var e=[];if(!s()||!l())return e;for(var n=t.parentElement;n;)a.test(window.getComputedStyle(n).overflow)&&e.push(n),n=n.parentElement;return e.push(window),e};e.scrollableParents=f;var u=1e3/60;e.FRAME_DURATION=u;var p=function(){if(!s())return!1;var t=10,e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: '+t+'px;">child</div>',document.body.appendChild(e);var n=e.children[0].getBoundingClientRect().top!==t;return document.body.removeChild(e),n},d=p();e.HAS_RELATIVE_STACKING_CONTEXT=d},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(4),l=n(6),c=function(){function t(t){this._dom=t}return t.prototype.positionElement=function(t){var e=t.anchor,n=t.currentLocation,o=t.element,i=t.anchorAlign,r=t.elementAlign,s=t.collisions,c=this._dom.useRelativePosition(o),a=t.viewPort||this._dom.windowViewPort(o),f=l.eitherRect(this._dom.offset(e),n),u=c?null:n,p=c?n:null,d=l.replaceOffset(this._dom.staticOffset(o),u),h=this._dom.restrictToView({anchorAlign:i,anchorRect:f,collisions:s,elementAlign:r,elementRect:d,viewPort:a});return{flipped:h.flipped,offset:this._dom.addOffset(l.replaceOffset(d,p),h.offset)}},t=o([r.Injectable(),i("design:paramtypes",[s.DOMService])],t)}();e.PositionService=c},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(9);n(10),n(11);var l=n(6),c=n(4),a=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.subscribe=function(t){var e=this;l.isDocumentAvailable()&&this._zone.runOutsideAngular(function(){e.subscription=s.Observable.fromEvent(e._dom.getWindow(),"resize").auditTime(l.FRAME_DURATION).subscribe(function(){return e._zone.run(function(){return t()})})})},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isUnsubscribed=function(){return this.subscription&&this.subscription.closed},t=o([r.Injectable(),i("design:paramtypes",[c.DOMService,r.NgZone])],t)}();e.ResizeService=a},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(9);n(10),n(13),n(11);var l=n(4),c=n(6),a=function(){function t(t,e){this._dom=t,this._zone=e}return t.prototype.forElement=function(t){return this.unsubscribe(),this.element=t,this},t.prototype.subscribe=function(t){var e=this;if(t&&c.isDocumentAvailable()&&this.element){var n=this._dom.nativeElement(this.element),o=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(function(){var i=o.map(function(t){return s.Observable.fromEvent(t,"scroll").auditTime(c.FRAME_DURATION)}),r=function(o){return e._zone.run(function(){return t(e.isVisible(n,o.target))})};e.subscription=s.Observable.merge.apply(s.Observable,i).subscribe(r)})}},t.prototype.unsubscribe=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.isVisible=function(t,e){var n=this._dom.boundingOffset(t),o=this._dom.boundingOffset(e);return!(n.bottom<o.top)&&(!(n.bottom>o.bottom)&&(!(n.right>o.right)&&!(n.left<o.left)))},t=o([r.Injectable(),i("design:paramtypes",[l.DOMService,r.NgZone])],t)}();e.ScrollableService=a},function(t,e){t.exports=i},function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(15),l=n(1),c=[l.PopupComponent],a=function(){function t(){}return t=o([r.NgModule({declarations:[c],exports:[c],imports:[s.CommonModule]}),i("design:paramtypes",[])],t)}();e.PopupModule=a},function(t,e){t.exports=r}])});