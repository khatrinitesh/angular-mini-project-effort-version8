{"version":3,"file":"main.js","sources":["Util.js"],"sourcesContent":["/* DOM dependent */\nfunction caretIndex(element) {\n    return element.disabled ? undefined : element.selectionStart;\n}\n\nfunction caretSelection(element, startIndex, endIndex = startIndex) {\n    if (startIndex && !element.disabled && element.selectionStart !== undefined) {\n        element.focus();\n        element.setSelectionRange(startIndex, endIndex);\n    }\n}\n\nfunction endOfWordIndex(text, startIndex, separator) {\n    let endIndex;\n    if (separator !== \"\") {\n        const word = wordAtCaret(startIndex, text, separator);\n        const tmp = text.substring(0, startIndex).split(separator);\n        const beginning = tmp[tmp.length - 1];\n        endIndex = startIndex + (word.length - beginning.length);\n    } else {\n        endIndex = text.length;\n    }\n\n    return endIndex;\n}\n\nfunction selectEndOfWord(element, startIndex, separator) {\n    caretSelection(element, startIndex, endOfWordIndex(element.value, startIndex, separator));\n}\n\nfunction moveToEndOfWord(element, caretIdx, separator) {\n    const word = wordAtCaret(element, element.value, separator);\n    const end = caretIdx + word.length;\n    caretSelection(element, end, end);\n\n    return end;\n}\n\nfunction hasSelection(element) {\n    return element.selectionStart !== element.selectionEnd;\n}\n\nfunction getExtraHeight(element) {\n    let result = 0;\n    let dom = element.previousElementSibling;\n\n    while (dom) {\n        result += dom.offsetHeight;\n        dom = dom.previousElementSibling;\n    }\n\n    return result;\n}\n\nfunction resizeList(list, listContainer, height) {\n    const extraHeight = getExtraHeight(list);\n    const listHeight = list.scrollHeight || list.offsetHeight;\n\n    listContainer.style.height = listHeight > height ? height + \"px\" : \"auto\";\n    list.style.height = listHeight > height ? height - extraHeight + \"px\" : \"auto\";\n}\n\n/* DOM independent */\nfunction indexOfWordAtCaret(caretIdx, text, separator) {\n    return separator ? text.substring(0, caretIdx).split(separator).length - 1 : 0;\n}\n\nfunction trim(word, separator) {\n    const str = separator.substring(0, separator.length - 1);\n    return word.endsWith(str) ? word.substring(0, word.length - str.length) : word;\n}\n\nfunction wordAtCaret(caretIdx, text, separator) {\n    const result = text.split(separator)[indexOfWordAtCaret(caretIdx, text, separator)];\n    return trim(result, separator);\n}\n\nfunction replaceWordAtCaret(caretIdx, text, word, separator) {\n    let words = text.split(separator);\n\n    words.splice(indexOfWordAtCaret(caretIdx, text, separator), 1, word);\n\n    return words.join(separator);\n}\n\nfunction textReduced(newValue = \"\", oldValue = \"\") {\n    let result;\n\n    if (!newValue && !oldValue) {\n        result = false;\n    } else if (newValue.length < oldValue.length) {\n        result = true;\n    } else if (newValue.length === oldValue.length) {\n        result = newValue === oldValue;\n    } else {\n        result = false;\n    }\n\n    return result;\n}\n\nfunction resolveValue(props) {\n    const { data, defaultItem, value, index, valueField } = props;\n    let dataItem;\n    if (value !== undefined) {\n        dataItem = data.find(element => getter(element, valueField) === value);\n        return {\n            dataItem: dataItem,\n            selected: data.indexOf(dataItem),\n            focused: data.indexOf(dataItem)\n        };\n    } else if (index) {\n        dataItem = data[index];\n        return {\n            dataItem: data[index],\n            selected: index,\n            focused: index\n        };\n    }\n    return {\n        dataItem: defaultItem,\n        selected: -1,\n        focused: -1\n    };\n}\n\nfunction sameCharsOnly(word, character) {\n    for (let idx = 0; idx < word.length; idx++) {\n        if (word.charAt(idx) !== character) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction normalizeIndex(index, length) {\n    let result = index;\n\n    if (result >= length) {\n        result -= length;\n    }\n\n    return result;\n}\n\nfunction shuffleData(data, splitIndex, defaultItem) {\n    let result = data;\n\n    if (defaultItem) {\n        result = [ defaultItem ].concat(result);\n    }\n\n    return result.slice(splitIndex).concat(result.slice(0, splitIndex));\n}\n\nfunction matchText(text, word, ignoreCase) {\n    if (text === undefined || text === null) {\n        return false;\n    }\n\n    let temp = String(text);\n\n    if (ignoreCase) {\n        temp = temp.toLowerCase();\n    }\n\n    return temp.indexOf(word) === 0;\n}\n\nfunction getter(dataItem, field) {\n    if (dataItem) {\n        return field ? dataItem[field] : dataItem;\n    }\n    return null;\n}\n\nexport default {\n    caretIndex,\n    caretSelection,\n    getter,\n    getExtraHeight,\n    hasSelection,\n    indexOfWordAtCaret,\n    moveToEndOfWord,\n    matchText,\n    normalizeIndex,\n    textReduced,\n    trim,\n    wordAtCaret,\n    selectEndOfWord,\n    sameCharsOnly,\n    shuffleData,\n    replaceWordAtCaret,\n    resizeList,\n    resolveValue,\n    endOfWordIndex\n};\n"],"names":["let","const"],"mappings":"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"}